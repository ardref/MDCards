#:kivy 1.10.0

#:import Factory kivy.factory.Factory


<MyPopup@Popup>:
#    auto_dismiss: True
    id: popup
    title: "Import"

    FileChooserListView:
        id: filechooser
        path: './'

        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                #on_press = lambda *args: self.popup_exit.dismiss()
                on_release: print(app, root.ids)

            Button:
                text: "Load"
                on_release: root.load_list(filechooser.path, filechooser.selection)

    #size: .5 * root.width, .5 * root.height

<NextCardButton@MDRaisedButton>:
    size_hint: [.2, .2]
    # size: [100, 100]

<EventBottomLayout@AnchorLayout>:
    anchor_x: 'right'
    anchor_y: 'bottom'

    # To Do: 'padding' needs to be relative!
    padding: ('10dp', '10dp', '10dp', '10dp')

    adaptive_size: True

    MDRaisedButton:
    # To Do: move button to right.
        text: 'Next'
        size: .5 * self.parent.width, .5 * self.parent.height
        #on_release: Factory.MyPopup().open()


# Root of UI, referenced in py code.
EventCard:

    BoxLayout:
        orientation: "vertical"
#        size: root.width, root.height
        id: event_card


        MDToolbar:
            id: toolbar
            title: "Order"
            elevation: 10
            right_action_items: [['import', lambda x: Factory.MyPopup().open()]]

        MDLabel
            id: header
            text: "Enemy Spotted!"
            halign: "center"
            font_style: "H2"
            theme_text_color: "Primary"

        MDLabel:
            id: body
            text: "Advance towards nearest opponent(s)"
            halign: "center"
            font_style: "H4"
            theme_text_color: "Primary"

        MDLabel:
            id: extra
            text: "Subordinate CR required to cancel order"
            halign: "center"
            font_style: "H5"
            theme_text_color: "Primary"

        EventBottomLayout:
