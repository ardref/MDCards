#:kivy 1.10.0

#:import Factory kivy.factory.Factory
<MyPopup@Popup>:
    auto_dismiss: False
    Button:
        text: 'Close me!'
        on_release: root.dismiss()

<NextCardButton@MDRaisedButton>:
    size_hint: [.2, .2]
    # size: [100, 100]

<EventBottomLayout@AnchorLayout>:
    anchor_x: 'right'
    anchor_y: 'bottom'

    # To Do: 'padding' needs to be relative!
    padding: ('10dp', '10dp', '10dp', '10dp')

    adaptive_size: True

    MDRaisedButton:
    # To Do: move button to right.
        text: 'Next'
        size: .5 * self.parent.width, .5 * self.parent.height
        on_release: Factory.MyPopup().open()



EventCard:

    BoxLayout:
        orientation: "vertical"
#        size: root.width, root.height
        id: event_card


        MDToolbar:
            id: toolbar
            title: "Order"
            elevation: 10
            right_action_items: [['import', lambda x: root.show_load_list()]]

        MDLabel
            id: header
            text: "Enemy Spotted!"
            halign: "center"
            font_style: "H2"
            theme_text_color: "Primary"

        MDLabel:
            id: body
            text: "Advance towards nearest opponent(s)"
            halign: "center"
            font_style: "H4"
            theme_text_color: "Primary"

        MDLabel:
            id: extra
            text: "Subordinate CR required to cancel order"
            halign: "center"
            font_style: "H5"
            theme_text_color: "Primary"

        EventBottomLayout:

<LoadDialog>:
    BoxLayout:
        size: .5 * self.parent.width, .5 * self.parent.height
        #pos: root.pos * .4
        orientation: "vertical"
        FileChooserListView:
            id: filechooser
            path: './'
        BoxLayout:
            size_hint_y: None
            height: 30
            Button:
                text: "Cancel"
                on_release: root.cancel()
            Button:
                text: "Load"
                on_release: root.load(filechooser.path, filechooser.selection)
